{% extends '../base/app_main.html' %}
{% load i18n %}
{% load static %}
{% load language_json %}

{% block title %}{% trans 'Clients Management' %}{% endblock %}

{% block custom_style %}
    <link rel="stylesheet" href="{% static 'clubs/css/admin_panel.css' %}">
    <link rel="stylesheet" href="{% static 'users/css/base_clients.css' %}">
{% endblock %}

{% block content %}

    <div class="row">
        <div class="col-sm-12 px-1">
            <div class="card mb-0">
                <div class="card-header py-2">
                    <div class="row">
                        <div class="col px-1">
                            <ul class="nav nav-pills nav-fill mb-0" id="pills-tab" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" data-toggle="pill" href="#users-table-tab" role="tab" aria-controls="club-users" aria-selected="true">{% trans "Users" %}</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" data-toggle="pill" href="#clubs-table-tab" role="tab" aria-controls="club-users" aria-selected="true">{% trans "Clubs" %}</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" data-toggle="pill" href="#user-add" role="tab" aria-controls="user-add" aria-selected="false">{% trans "User" %} +</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" data-toggle="pill" href="#club-add" role="tab" aria-controls="club-add" aria-selected="false">{% trans "Club" %} +</a>
                                </li>
                            </ul>
                        </div>
                        <div class="col">
                            <div class="row">
                                <div class="col px-1">
                                    <button id="admin-filters-button" class="btn btn-outline-secondary btn-block only-selected always-active" data-target=".table-settings-block" aria-controls="Filters" aria-selected="false">{% trans "Filters" %}</button>
                                </div>
                                <div class="col px-1">
                                    <button class="btn btn-outline-secondary btn-block only-selected" data-target=".management-main-block" aria-controls="Settings" aria-selected="false">{% trans "Settings" %}</button>
                                </div>
                                <div class="col px-1">
                                    <button class="btn btn-outline-secondary btn-block only-selected" data-target=".management-permissions-block" aria-controls="Permissions" aria-selected="false">{% trans "Permissions" %}</button>
                                </div>
                                <div class="col px-1">
                                    <button class="btn btn-outline-secondary btn-block only-selected" data-target=".management-profile-block" aria-controls="Profile" aria-selected="false">{% trans "Profile" %}</button>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="card-body py-2">
                    <div class="tab-content p-0" id="pills-tabContent">
                        <div class="tab-pane fade show active" id="users-table-tab" role="tabpanel" aria-labelledby="pills-home-tab">
                            <div class="row">
                                <div id="users-table-block" curr-col="12" class="col-12 px-1 table-block">
                                    {% include "users/modules/user_table.html" %}
                                </div>
                                <div id="user-table-settings-block" data-col="2" class="pt-1 col-2 collapse function-block table-settings-block">
                                    {% include "users/modules/user_table_settings.html" %}
                                </div>
                                <div id="users-management-main-block" data-col="3" class="px-1 col-3 collapse function-block management-main-block">
                                    {% include "users/modules/management_main.html" %}
                                </div>
                                <div id="users-management-permissions-block" data-col="5" class="px-1 col-5 collapse function-block management-permissions-block">
                                    {% include "users/modules/management_permissions.html" %}
                                </div>
                                <div id="users-management-profile-block" data-col="3" class="px-1 col-3 collapse function-block management-profile-block">
                                    {% include "users/modules/management_profile.html" %}
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="clubs-table-tab" role="tabpanel" aria-labelledby="pills-clubs-tab">
                            <div class="row">
                                <div id="clubs-table-block" curr-col="12" class="col-12 px-1 table-block">
                                    {% include "users/modules/club_table.html" %}
                                </div>
                                <div id="club-table-settings-block" data-col="2" class="pt-1 col-2 collapse function-block table-settings-block">
                                    {% include "users/modules/club_table_settings.html" %}
                                </div>
                                <div id="club-management-main-block" data-col="3" class="px-1 col-3 collapse function-block management-main-block">
                                    {% include "users/modules/management_main.html" %}
                                </div>
                                <div id="club-management-permissions-block" data-col="5" class="px-1 col-5 collapse function-block management-permissions-block">
                                    {% include "users/modules/management_permissions.html" %}
                                </div>
                                <div id="club-management-profile-block" data-col="3" class="px-1 col-3 collapse function-block management-profile-block">
                                    {% include "users/modules/management_profile.html" %}
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="user-add" role="tabpanel" aria-labelledby="pills-user-add-tab">
                            {% include "users/forms/add-user-form.html" %}
                        </div>
                        <div class="tab-pane fade" id="club-add" role="tabpanel" aria-labelledby="pills-user-add-tab">
                            {% include "users/forms/add-club-form.html" %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
{#        <div id="user-management-block" class="d-none px-1">#}
{#            {% include "users/modules/management_client.html" %}#}
{#        </div>#}
    </div>

{% endblock %}

{% block custom_scripts %}
    <script src="{% static 'references/team_ajax.js' %}"></script>
    <script src="{% static 'users/modules/ajax_permission.js' %}"></script>
    <script src="{% static 'users/modules/ajax_user_table.js' %}"></script>
    <script src="{% static 'users/modules/ajax_club_table.js' %}"></script>
    <script src="{% static 'users/modules/edit_permission.js' %}"></script>
    <script src="{% static 'users/modules/ajax_user_data.js' %}"></script>
    <script src="{% static 'users/modules/blocks_admin_module.js' %}"></script>
    <script src="{% static 'users/modules/user_table_settings.js' %}"></script>
    <script src="{% static 'users/base_clients.js' %}"></script>
{% endblock %}