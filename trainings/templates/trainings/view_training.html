{% extends '../base/app_main.html' %}
{% load i18n %}
{% load static %}
{% load language_json %}

{% block title %}{% trans 'Trainings' %}{% endblock %}

{% block content %}

    {% if messages %}
        {% for message in messages %}
            <div class="alert {% if message.tags %} {{ message.tags }} {% endif %} alert-warning alert-dismissible fade show" role="alert">
                {{ message }}
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
        {% endfor %}
    {% endif %}

    <div class="row">
        <div class="col-sm-12">
            <div class="card">
                <div class="card-header py-2">
                    <div class="row">
                        <div class="col-4">
                            <div class="row">
                                <div class="col px-1">
                                    <a id="#" href="{{ request.META.HTTP_REFERER }}" title="" class="btn btn-block btn-outline-danger btn-sm font-weight-bold">Выйти</a>
                                </div>
                                <div class="col px-1">
                                    <button id="#" title="" class="btn btn-block btn-outline-dark btn-sm font-weight-bold">Редактировать</button>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="row">
                                <div class="col px-1">
                                    <button id="#" title="" class="btn btn-block btn-outline-dark btn-sm"><i class="fa fa-files-o" aria-hidden="true"></i></button>
                                </div>
                                <div class="col px-1">
                                    <button id="#" title="" class="btn btn-block btn-outline-dark btn-sm"><i class="fa fa-bar-chart" aria-hidden="true"></i></button>
                                </div>
                                <div class="col px-1">
                                    <button id="#" title="" class="btn btn-block btn-outline-dark btn-sm"><i class="fa fa-print" aria-hidden="true"></i></button>
                                </div>
                                <div class="col px-1">
                                    <button id="#" title="" class="btn btn-block btn-outline-dark btn-sm"><i class="fa fa-external-link" aria-hidden="true"></i></button>
                                </div>
                                <div class="col px-1">
                                    <button id="#" title="" class="btn btn-block btn-outline-dark btn-sm"><i class="fa fa-cog" aria-hidden="true"></i></button>
                                </div>
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="row">
                                <div class="col px-1">
                                    <button id="#" title="" class="btn btn-block btn-outline-dark btn-sm font-weight-bold">Протокол</button>
                                </div>
                                <div class="col px-1">
                                    <button id="#" title="" class="btn btn-block btn-outline-danger btn-sm font-weight-bold">Удалить</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-body py-2">
                    <div class="row">
                        <div class="col-4">
                            <div class="row">
                                <div class="col">
                                    <div class="row">
                                        <div class="col bg-default-light">Дата:</div>
                                        <div class="col">{{ object.event_id.date|date:"d/m/Y" }}</div>
                                    </div>
                                    <div class="row">
                                        <div class="col bg-default-light">Команда:</div>
                                        <div class="col">{{ object.team_id.name }}</div>
                                    </div>
                                    <div class="row">
                                        <div class="col bg-default-light">Событие:</div>
                                        <div class="col">{% trans 'Training' %}</div>
                                    </div>
                                    <div class="row">
                                        <div class="col bg-default-light">Время:</div>
                                        <div class="col">{{ object.event_id.date|date:"H:i" }}</div>
                                    </div>
                                    <div class="row">
                                        <div class="col bg-default-light">Тренер:</div>
                                        <div class="col">{{ object.trainer_user_id.get_full_name }}</div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12 border border-dark bg-default-light font-weight-bold">Игроки</div>
                                <div class="col-12">
                                    <div class="row border-bottom">
                                        <div class="col">Иванов иван иванович1</div>
                                        <div class="col-2 text-right px-0"><i class="fa fa-medkit text-danger" aria-hidden="true"></i></div>
                                    </div>
                                    <div class="row border-bottom">
                                        <div class="col">Иванов иван иванович2</div>
                                        <div class="col-2 text-right px-0"></div>
                                    </div>
                                    <div class="row border-bottom">
                                        <div class="col">Иванов иван иванович3</div>
                                        <div class="col-2 text-right px-0"><i class="fa fa-medkit text-danger" aria-hidden="true"></i></div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div id="group_A" class="col-12">
                                    <div class="row border border-dark bg-default-light font-weight-bold">
                                        <div class="col">Группа А</div>
                                        <div class="col-2 text-right px-0 edit-mode"><button type="button" class="btn btn-sm btn-secondary rounded-0 py-0 h-100 add-exercise" data-group="1"><i class="fa fa-plus" aria-hidden="true"></i></button></div>
                                    </div>
                                    {% for exercise in object.usertrainingexercise_set.all %}
                                        {% if exercise.group == 1 %}
                                            <div class="row border-bottom">
                                                <div class="col">{% get_translation exercise.exercise_id.title %}</div>
                                                <div class="col-2 text-right px-0">({{ exercise.duration }})</div>
                                            </div>
                                        {% endif %}
                                    {% endfor %}
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <div class="row border border-dark bg-default-light font-weight-bold">
                                        <div class="col">Цели</div>
                                        <div class="col-2 text-right px-0 edit-mode"><button type="button" class="btn btn-sm btn-secondary rounded-0 py-0 h-100"><i class="fa fa-plus" aria-hidden="true"></i></button></div>
                                    </div>
                                    <div class="row border-bottom">
                                        <div class="col">---</div>
                                        <div class="col-2 text-right px-0">--</div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div id="group_B" class="col-12">
                                    <div class="row border border-dark bg-default-light font-weight-bold">
                                        <div class="col">Группа B</div>
                                        <div class="col-2 text-right px-0 edit-mode"><button type="button" class="btn btn-sm btn-secondary rounded-0 py-0 h-100 add-exercise" data-group="2"><i class="fa fa-plus" aria-hidden="true"></i></button></div>
                                    </div>
                                    {% for exercise in object.usertrainingexercise_set.all %}
                                        {% if exercise.group == 2 %}
                                            <div class="row border-bottom">
                                                <div class="col">{% get_translation exercise.exercise_id.title %}</div>
                                                <div class="col-2 text-right px-0">({{ exercise.duration }})</div>
                                            </div>
                                        {% endif %}
                                    {% endfor %}
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <div class="row border border-dark bg-default-light font-weight-bold">
                                        <div class="col">Группа C</div>
                                        <div class="col-2 text-right px-0"><button type="button" class="btn btn-sm btn-secondary rounded-0 py-0 h-100 add-exercise" data-group="3"><i class="fa fa-plus" aria-hidden="true"></i></button></div>
                                    </div>
                                    {% for exercise in object.usertrainingexercise_set.all %}
                                        {% if exercise.group == 3 %}
                                            <div class="row border-bottom">
                                                <div class="col">{% get_translation exercise.exercise_id.title %}</div>
                                                <div class="col-2 text-right px-0">({{ exercise.duration }})</div>
                                            </div>
                                        {% endif %}
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="row mb-2">
                                <div class="col px-1">
                                    <button id="#" title="" class="btn btn-block btn-outline-dark btn-sm font-weight-bold">Описание</button>
                                </div>
                                <div class="col px-1">
                                    <button id="#" title="" class="btn btn-block btn-outline-dark btn-sm font-weight-bold">Схемы</button>
                                </div>
                                <div class="col px-1">
                                    <button id="#" title="" class="btn btn-block btn-outline-dark btn-sm font-weight-bold">Видео</button>
                                </div>
                                <div class="col px-1">
                                    <button id="#" title="" class="btn btn-block btn-outline-dark btn-sm font-weight-bold">Анимация</button>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-6 py-2 d-flex justify-content-center">
                                    <div id="svgbox" class="d-block float-left size-w-x" style="--w-x:100%;">
                                        <div id="svgparent" class="d-block mx-auto">
                                            <svg id="block" class="d-block bg-success mx-auto" viewBox="0 0 600 400" height="100%" width="100%" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
                                                <defs>
                                                    <marker id="40870arrow" markerWidth="15" markerHeight="12" refX="1" refY="6" orient="auto" markerUnits="userSpaceOnUse" fill="#000000"><polyline points="1 1, 16 5.5, 1 12"></polyline></marker>
                                                    <marker id="89143arrow" markerWidth="15" markerHeight="12" refX="1" refY="6" orient="auto" markerUnits="userSpaceOnUse" fill="#ffffff"><polyline points="1 1, 16 5.5, 1 12"></polyline></marker>
                                                    <marker id="95052arrow" markerWidth="15" markerHeight="12" refX="1" refY="6" orient="auto" markerUnits="userSpaceOnUse" fill="#ffff00"><polyline points="1 1, 16 5.5, 1 12"></polyline></marker>
                                                    <marker id="11295arrow" markerWidth="15" markerHeight="12" refX="1" refY="6" orient="auto" markerUnits="userSpaceOnUse" fill="#ff0000"><polyline points="1 1, 16 5.5, 1 12"></polyline></marker>
                                                    <marker id="31628arrow" markerWidth="15" markerHeight="12" refX="1" refY="6" orient="auto" markerUnits="userSpaceOnUse" fill="#000000"><polyline points="1 1, 16 5.5, 1 12"></polyline></marker>
                                                    <filter id="f3" x="0" y="0" width="200%" height="200%"><feOffset result="offOut" in="SourceAlpha" dx="5" dy="5"></feOffset><feGaussianBlur result="blurOut" in="offOut" stdDeviation="3"></feGaussianBlur><feBlend in="SourceGraphic" in2="blurOut" mode="normal"></feBlend></filter>
                                                </defs>
                                                <image id="plane" x="0" y="0" data-width="600" data-height="400" width="100%" height="100%" href="{% static 'exercises/img/field.svg' %}"></image>
                                                <g id="selects"></g>
                                                <g id="figures"></g>
                                                <g id="lines"></g>
                                                <g id="objects"></g>
                                                <g id="dots"></g>
                                                <line id="xLine" x1="-1" y1="0" x2="-1" y2="1600" stroke="red" stroke-dasharray="10" stroke-width="1"></line>
                                                <line id="yLine" x1="0" y1="-1" x2="2400" y2="-1" stroke="red" stroke-dasharray="10" stroke-width="1"></line>
                                                <line id="xLine2" x1="-2400" y1="0" x2="-2400" y2="1600" stroke="red" stroke-dasharray="10" stroke-width="1"></line>
                                                <line id="yLine2" x1="0" y1="-1600" x2="2400" y2="-1600" stroke="red" stroke-dasharray="10" stroke-width="1"></line>
                                            </svg>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-6 py-2 d-flex justify-content-center">
                                    <div id="svgbox" class="d-block float-left size-w-x" style="--w-x:100%;">
                                        <div id="svgparent" class="d-block mx-auto">
                                            <svg id="block" class="d-block bg-success mx-auto" viewBox="0 0 600 400" height="100%" width="100%" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
                                                <defs>
                                                    <marker id="40870arrow" markerWidth="15" markerHeight="12" refX="1" refY="6" orient="auto" markerUnits="userSpaceOnUse" fill="#000000"><polyline points="1 1, 16 5.5, 1 12"></polyline></marker>
                                                    <marker id="89143arrow" markerWidth="15" markerHeight="12" refX="1" refY="6" orient="auto" markerUnits="userSpaceOnUse" fill="#ffffff"><polyline points="1 1, 16 5.5, 1 12"></polyline></marker>
                                                    <marker id="95052arrow" markerWidth="15" markerHeight="12" refX="1" refY="6" orient="auto" markerUnits="userSpaceOnUse" fill="#ffff00"><polyline points="1 1, 16 5.5, 1 12"></polyline></marker>
                                                    <marker id="11295arrow" markerWidth="15" markerHeight="12" refX="1" refY="6" orient="auto" markerUnits="userSpaceOnUse" fill="#ff0000"><polyline points="1 1, 16 5.5, 1 12"></polyline></marker>
                                                    <marker id="31628arrow" markerWidth="15" markerHeight="12" refX="1" refY="6" orient="auto" markerUnits="userSpaceOnUse" fill="#000000"><polyline points="1 1, 16 5.5, 1 12"></polyline></marker>
                                                    <filter id="f3" x="0" y="0" width="200%" height="200%"><feOffset result="offOut" in="SourceAlpha" dx="5" dy="5"></feOffset><feGaussianBlur result="blurOut" in="offOut" stdDeviation="3"></feGaussianBlur><feBlend in="SourceGraphic" in2="blurOut" mode="normal"></feBlend></filter>
                                                </defs>
                                                <image id="plane" x="0" y="0" data-width="600" data-height="400" width="100%" height="100%" href="{% static 'exercises/img/field.svg' %}"></image>
                                                <g id="selects"></g>
                                                <g id="figures"></g>
                                                <g id="lines"></g>
                                                <g id="objects"></g>
                                                <g id="dots"></g>
                                                <line id="xLine" x1="-1" y1="0" x2="-1" y2="1600" stroke="red" stroke-dasharray="10" stroke-width="1"></line>
                                                <line id="yLine" x1="0" y1="-1" x2="2400" y2="-1" stroke="red" stroke-dasharray="10" stroke-width="1"></line>
                                                <line id="xLine2" x1="-2400" y1="0" x2="-2400" y2="1600" stroke="red" stroke-dasharray="10" stroke-width="1"></line>
                                                <line id="yLine2" x1="0" y1="-1600" x2="2400" y2="-1600" stroke="red" stroke-dasharray="10" stroke-width="1"></line>
                                            </svg>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-6 py-2 d-flex justify-content-center">
                                    <div id="svgbox" class="d-block float-left size-w-x" style="--w-x:100%;">
                                        <div id="svgparent" class="d-block mx-auto">
                                            <svg id="block" class="d-block bg-success mx-auto" viewBox="0 0 600 400" height="100%" width="100%" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
                                                <defs>
                                                    <marker id="40870arrow" markerWidth="15" markerHeight="12" refX="1" refY="6" orient="auto" markerUnits="userSpaceOnUse" fill="#000000"><polyline points="1 1, 16 5.5, 1 12"></polyline></marker>
                                                    <marker id="89143arrow" markerWidth="15" markerHeight="12" refX="1" refY="6" orient="auto" markerUnits="userSpaceOnUse" fill="#ffffff"><polyline points="1 1, 16 5.5, 1 12"></polyline></marker>
                                                    <marker id="95052arrow" markerWidth="15" markerHeight="12" refX="1" refY="6" orient="auto" markerUnits="userSpaceOnUse" fill="#ffff00"><polyline points="1 1, 16 5.5, 1 12"></polyline></marker>
                                                    <marker id="11295arrow" markerWidth="15" markerHeight="12" refX="1" refY="6" orient="auto" markerUnits="userSpaceOnUse" fill="#ff0000"><polyline points="1 1, 16 5.5, 1 12"></polyline></marker>
                                                    <marker id="31628arrow" markerWidth="15" markerHeight="12" refX="1" refY="6" orient="auto" markerUnits="userSpaceOnUse" fill="#000000"><polyline points="1 1, 16 5.5, 1 12"></polyline></marker>
                                                    <filter id="f3" x="0" y="0" width="200%" height="200%"><feOffset result="offOut" in="SourceAlpha" dx="5" dy="5"></feOffset><feGaussianBlur result="blurOut" in="offOut" stdDeviation="3"></feGaussianBlur><feBlend in="SourceGraphic" in2="blurOut" mode="normal"></feBlend></filter>
                                                </defs>
                                                <image id="plane" x="0" y="0" data-width="600" data-height="400" width="100%" height="100%" href="{% static 'exercises/img/field.svg' %}"></image>
                                                <g id="selects"></g>
                                                <g id="figures"></g>
                                                <g id="lines"></g>
                                                <g id="objects"></g>
                                                <g id="dots"></g>
                                                <line id="xLine" x1="-1" y1="0" x2="-1" y2="1600" stroke="red" stroke-dasharray="10" stroke-width="1"></line>
                                                <line id="yLine" x1="0" y1="-1" x2="2400" y2="-1" stroke="red" stroke-dasharray="10" stroke-width="1"></line>
                                                <line id="xLine2" x1="-2400" y1="0" x2="-2400" y2="1600" stroke="red" stroke-dasharray="10" stroke-width="1"></line>
                                                <line id="yLine2" x1="0" y1="-1600" x2="2400" y2="-1600" stroke="red" stroke-dasharray="10" stroke-width="1"></line>
                                            </svg>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    {% include "exercises/modules/exe" %}

{% endblock %}

{% block custom_scripts %}
    <script src="{% static 'trainings/view_training.js' %}"></script>
{% endblock %}