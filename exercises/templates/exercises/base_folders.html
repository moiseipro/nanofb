{% extends '../base/app_main.html' %}
{% load static %}
{% load i18n %}

{% block title %}{% trans 'Folders management' %}{% endblock %}

{% block custom_style %}
    <link rel="stylesheet" href="{% static 'exercises/css/style.css' %}">
{% endblock %}

{% block content %}
    <style>
        .badge {
            cursor: pointer;
        }
        .badge-success:hover {
            background-color: #7ab13c8f !important;
        }
        .badge-secondary:hover {
            background-color: #6c757d7e !important;
        }
        .badge-danger:hover {
            background-color: #e8464685 !important;
        }
    </style>

    <main class="">
        <div class="row">
            <div class="col-12">
                <div class="card mb-1">
                    <div class="card-body p-1">
                        <div class="card-inside">
                            <div class="my-3">
                                <span>- {% trans 'Folders' %} -</span>
                                <button type="button" class="btn btn-sm btn-success folder-add ml-3">
                                    Добавить папку
                                </button>
                                <button type="button" class="btn btn-sm btn-warning folders-nanofb ml-2">
                                    Просмотреть папки NFB
                                </button>
                                <button type="button" class="btn btn-sm btn-info folder-up ml-2" title="{% trans 'Move up' %}">
                                    <i class="fa fa-arrow-up" aria-hidden="true"></i>
                                </button>
                                <button type="button" class="btn btn-sm btn-info folder-down ml-1" title="{% trans 'Move down' %}">
                                    <i class="fa fa-arrow-down" aria-hidden="true"></i>
                                </button>
                                <button type="button" class="btn btn-sm btn-success folders-save ml-1">
                                    Сохранить
                                </button>
                            </div>
                            <div class="row w-100">
                                <div class="col-8">
                                    {% include 'exercises/folders_list.html' %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="folderChangeModal" tabindex="-1" role="dialog" aria-labelledby="folderChangeModalLbl" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="folderChangeModalLbl">{% trans 'Create/Modify folder' %}</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form id="formFolderChange">
                            <div class="form-row">
                                <div class="form-group col-md-3">
                                    <label for="short_name_val">{% trans 'Short key' %}</label>
                                    <input type="text" class="form-control" id="short_name_val" name="short_name" placeholder="{% trans 'Short key' %}" required>
                                </div>
                                <div class="form-group col-md-9">
                                    <label for="name_val">{% trans 'Title' %}</label>
                                    <input type="text" class="form-control" id="name_val" name="name" placeholder="{% trans 'Title' %}" required>
                                </div>
                            </div>
                            <button id="formFolderChangeClick" type="submit" class="btn btn-primary d-none">ok</button>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary btn-submit" onclick="document.getElementById('formFolderChangeClick').click();">{% trans 'Apply' %}</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">{% trans 'Cancel' %}</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="folderDeleteModal" tabindex="-1" role="dialog" aria-labelledby="folderDeleteModalLbl" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="folderDeleteModalLbl">{% trans 'Deleting a folder' %}</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        {% trans 'Are you sure you want to delete this folder?' %}
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary btn-submit">{% trans 'Apply' %}</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">{% trans 'Cancel' %}</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="folderNanoFbModal" tabindex="-1" role="dialog" aria-labelledby="folderNanoFbModalLbl" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="folderNanoFbModalLbl">{% trans 'NFB Folders' %}</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="nfb_folders_list mt-3">
                            <ul class="list-group">
                                
                            </ul>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary btn-submit">{% trans 'Choose this structure' %}</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">{% trans 'Cancel' %}</button>
                    </div>
                </div>
            </div>
        </div>

    </main>
{% endblock %}

{% block custom_scripts %}
    <script src="{% static 'exercises/js/base_exercises_folders.js' %}"></script>
    <script src="{% static 'exercises/js/folder_list.js' %}"></script>
{% endblock %}
