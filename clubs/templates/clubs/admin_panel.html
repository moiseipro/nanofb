{% extends '../base/app_main.html' %}
{% load i18n %}
{% load static %}
{% load language_json %}

{% block title %}{% trans 'Admin panel' %}{% endblock %}

{% block custom_style %}
    <link rel="stylesheet" href="{% static 'clubs/css/admin_panel.css' %}">
{% endblock %}

{% block content %}

    <div class="row">
        <div class="col-sm-12">
            <div class="card mb-0">
                <div class="card-header py-2">
                    <div class="row">
                        <div class="col px-1">
                            <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" data-toggle="pill" href="#club-users" role="tab" aria-controls="club-users" aria-selected="true">{% trans "Users" %}</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" data-toggle="pill" href="#club-user-add" role="tab" aria-controls="club-user-add" aria-selected="false">{% trans "Add user" %}</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" data-toggle="pill" href="#club-information" role="tab" aria-controls="club-information" aria-selected="false">{% trans 'Club information' %}</a>
                                </li>
                            </ul>
                        </div>
                        <div class="col">
                            <div class="row">
                                <div class="col px-1">
                                    <button class="btn btn-outline-secondary btn-block only-selected" data-toggle="collapse" data-target=".management-main-block" aria-controls="Settings" aria-selected="false">{% trans "Settings" %}</button>
                                </div>
                                <div class="col px-1">
                                    <button class="btn btn-outline-secondary btn-block only-selected" data-toggle="collapse" data-target=".management-permissions-block" aria-controls="Permissions" aria-selected="false">{% trans "Permissions" %}</button>
                                </div>
                                <div class="col px-1">
                                    <button class="btn btn-outline-secondary btn-block only-selected" data-toggle="collapse" data-target=".management-profile-block" aria-controls="Profile" aria-selected="false">{% trans "Profile" %}</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-body py-2">
                    <div class="tab-content p-0" id="pills-tabContent">
                        <div class="tab-pane fade show active" id="club-users" role="tabpanel" aria-labelledby="pills-home-tab">
                            <div class="row">
                                <div id="users-table-block" curr-col="12" class="col-12 px-1 table-block">
                                    {% include "clubs/users_table.html" %}
                                </div>
                                <div id="users-management-main-block" data-col="3" class="px-1 col-3 collapse function-block management-main-block">
                                    {% include "users/modules/management_main.html" %}
                                </div>
                                <div id="users-management-permissions-block" data-col="4" class="px-1 col-4 collapse function-block management-permissions-block">
                                    {% include "users/modules/management_permissions.html" %}
                                </div>
                                <div id="users-management-profile-block" data-col="3" class="px-1 col-3 collapse function-block management-profile-block">
                                    {% include "users/modules/management_profile.html" %}
                                </div>
                            </div>

                        </div>
                        <div class="tab-pane fade" id="club-user-add" role="tabpanel" aria-labelledby="pills-profile-tab">
                            {% include "clubs/forms/add_user.html" %}
                        </div>
                        <div class="tab-pane fade" id="club-information" role="tabpanel" aria-labelledby="pills-profile-tab">
                            {% include 'clubs/club_information.html' %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% include "clubs/edit_club_user.html" %}
    </div>

{% endblock %}

{% block custom_scripts %}
    <script src="{% static 'references/team_ajax.js' %}"></script>
    <script src="{% static 'users/modules/ajax_permission.js' %}"></script>
    <script src="{% static 'clubs/js/club_ajax.js' %}"></script>
    <script src="{% static 'clubs/js/users_list.js' %}"></script>
    <script src="{% static 'users/modules/edit_permission.js' %}"></script>
    <script src="{% static 'users/modules/ajax_user_data.js' %}"></script>
    <script src="{% static 'users/modules/blocks_admin_module.js' %}"></script>
    <script src="{% static 'clubs/js/base_club.js' %}"></script>
{% endblock %}